/* Minimal styles for the invitation - responsive and accessible */
:root{
	--bg: linear-gradient(180deg,#f3fff6,#f7fff9);
	--accent:#2a9d5b; /* verde principal */
	--accent-2:#7ed8a1; /* verde claro */
	--sunflower:#f6c84c;
	--sunflower-center:#8a5a28;
	--muted:#1f4f2e; /* texto/tonalidad oscura */
	--card-bg:rgba(255,255,255,0.96);
	--glass:rgba(255,255,255,0.78);
	font-family:Montserrat,system-ui,Segoe UI,Roboto,Arial,sans-serif;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#fff);color:#221b2b}
main.reel{min-height:100vh}
.story{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem;position:relative}

/* For the hero (first story) stack content vertically so the names card appears above the details card */
.story.s1{flex-direction:column;gap:14px}
.story .bg{position:absolute;inset:0;background-size:cover;background-position:center;filter:blur(6px) saturate(0.95);opacity:0.9}
/* Fallback and prefer local 'fondo.jpg' for the main hero when available */
.story.s1 .bg{background-image:linear-gradient(rgba(255,255,255,0.02),rgba(255,255,255,0.02)), url("../fondo.jpg");background-size:cover;background-position:center center;background-repeat:no-repeat}
.story .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(255,255,255,0.06),rgba(255,255,255,0.18))}
.card{position:relative;z-index:3;max-width:920px;width:100%;padding:2rem;border-radius:16px;background:var(--card-bg);box-shadow:0 10px 30px rgba(32,20,60,0.06);}
.topbar{position:absolute;top:18px;left:18px;display:flex;gap:8px;z-index:6}
.badge{background:rgba(255,255,255,0.85);padding:.35rem .6rem;border-radius:999px;font-size:.85rem;color:var(--muted);display:inline-flex;align-items:center;gap:.45rem}
.names{font-family:Fraunces,serif;margin:.1rem 0 0;text-align:center}
.names.custom-script{font-family:'Great Vibes',cursive;font-size:calc(28px + 3.6vw);line-height:1;margin:.05em 0}
.subtitle{font-family:Montserrat,sans-serif;color:var(--muted);text-align:center}
.invite-text{margin-top:10px;text-align:center;color:var(--muted);font-size:1rem;font-weight:600}
.decor-line{height:2px;width:60px;background:linear-gradient(90deg,var(--sunflower),var(--accent));margin:12px auto;border-radius:4px;opacity:0.95}
.invite-note{margin-top:8px;text-align:center;color:var(--muted);font-size:0.98rem;max-width:720px;margin-left:auto;margin-right:auto}

/* Ensure words inside the invite lines keep proper spacing when wrapped by JS */
.invite-text .word, .invite-note .word{display:inline-block;white-space:normal;margin-right:0.28em}
.invite-text .word:last-child, .invite-note .word:last-child{margin-right:0}
.date{color:var(--muted);text-align:center;margin-top:.4rem}
.countdown{display:flex;flex-direction:row;gap:12px;align-items:center;justify-content:center;margin-top:12px}
.countdown .dd{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:88px;background:var(--accent);color:#fff;padding:.8rem 1rem;border-radius:12px;text-align:center;box-shadow:0 8px 18px rgba(42,157,91,0.12)}
.btn{border:1px solid rgba(34,27,43,0.06);background:#fff;padding:.6rem .9rem;border-radius:10px;text-decoration:none;color:inherit;cursor:pointer}
.btn--ghost{background:transparent}
.btn--brand{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border:none}

/* RSVP micro-button */
.link-rsvp{appearance:none;border:0;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;padding:.6rem 1rem;border-radius:999px;font-weight:700;cursor:pointer;box-shadow:0 8px 20px rgba(34,79,46,0.08);transition:transform .18s cubic-bezier(.2,.9,.2,1),box-shadow .18s,opacity .12s}
.link-rsvp:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 14px 28px rgba(34,79,46,0.12)}
.link-rsvp:active{transform:translateY(-1px) scale(.99);box-shadow:0 6px 14px rgba(34,79,46,0.06);opacity:.98}
.link-rsvp:focus{outline:3px solid rgba(46,160,90,0.16);outline-offset:4px}
.sidebar{display:none} /* ocultar controles para experiencia más romántica */
.fab{display:none}
.footer{position:absolute;bottom:22px;left:50%;transform:translateX(-50%);color:var(--muted);font-size:.95rem}
.disc{position:absolute;left:18px;bottom:18px;width:72px;height:72px;border-radius:999px;background:radial-gradient(circle at 30% 30%,#fff,#d8c8ff);box-shadow:inset 0 -6px 18px rgba(0,0,0,0.03)}
/* Removed right-side image decorations to keep UI clean */

/* Background: soft layered gradients + subtle moving wave */
html,body{height:100%;margin:0;background:var(--bg);color:#221b2b}
main.reel{background: radial-gradient(ellipse at 10% 10%, rgba(46,160,90,0.04) 0%, transparent 20%), linear-gradient(180deg, rgba(42,157,91,0.02), rgba(126,216,161,0.01));}

/* animated decorative waves */
.overlay::before{content:"";position:absolute;inset:0;background:linear-gradient(90deg, rgba(255,255,255,0.0), rgba(255,255,255,0.02));mix-blend-mode:soft-light;pointer-events:none}

/* Petals container (animated via JS) */
#petals{position:absolute;left:0;right:0;bottom:0;top:0;pointer-events:none;overflow:hidden;z-index:2}
.petal{position:absolute;width:28px;height:28px;background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.7) 0%, rgba(255,255,255,0.0) 60%), linear-gradient(180deg,#c8f7d8,#7ed8a1);border-radius:14px;opacity:0.95;transform-origin:center;filter:drop-shadow(0 6px 12px rgba(32,80,40,0.06));animation:petal-fall linear infinite}
.flower{animation:petal-fall linear infinite;transform-origin:center;filter:drop-shadow(0 6px 18px rgba(32,80,40,0.06));}
/* ensure svg shapes can use CSS variables for fill */
.flower circle, .flower ellipse, .flower path{vector-effect:non-scaling-stroke}
/* Micro-animations and utility classes */
.fade-up{opacity:0;transform:translateY(10px);transition:opacity .6s ease,transform .6s cubic-bezier(.2,.9,.2,1)}
.fade-up.is-visible{opacity:1;transform:none}
.hover-lift{transition:transform .18s cubic-bezier(.2,.9,.2,1),box-shadow .18s}
.hover-lift:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(31,122,72,0.12)}

/* Hero background blur & overlay */
.story .bg{transition:filter .9s ease,transform .9s ease,opacity .6s}
.story.hero-loaded .bg{filter:blur(4px) saturate(1.05) contrast(1.02);transform:scale(1.02)}
.story .bg{filter:blur(8px) saturate(0.95);transform:scale(1.03);opacity:1}
.hero-overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(247,255,246,0.22), rgba(255,255,255,0.06));pointer-events:none}

/* ring photo (anillos) overlay with gentle opacity animation */
.ring-photo{position:absolute;right:18px;top:18px;width:140px;height:140px;border-radius:10px;background-image:url('../anillos.jpg');background-size:cover;background-position:center;opacity:0;transform:translateY(-6px);box-shadow:0 12px 30px rgba(0,0,0,0.12);transition:opacity .9s ease,transform .6s cubic-bezier(.2,.9,.2,1);z-index:4}
.story.hero-loaded .ring-photo{opacity:0.96;transform:none}

/* Make the heading use the script font and scale nicely */
.names{font-family:'Great Vibes',cursive;font-size:clamp(36px,6vw,84px);letter-spacing:0.5px;color:var(--muted);}
.names .amp{font-family:Fraunces,serif;font-weight:700;margin:0 .15em}

/* Separate names card above the main card */
.names-card{position:relative;z-index:6;margin:0 auto 12px;max-width:760px;background:var(--card-bg);padding:10px 18px;border-radius:14px;box-shadow:0 12px 30px rgba(18,28,20,0.04);text-align:center}
.names-card .names{margin:0;font-size:clamp(36px,5.6vw,64px);line-height:1}

/* Wedding rings positioning and animation */
.wedding-rings{position:absolute;left:50%;bottom:18px;width:160px;height:160px;z-index:6;pointer-events:none;opacity:0;transform:translateX(-50%) translateY(8px) scale(.98);transition:opacity .9s ease,transform .9s ease}
.wedding-rings-svg{width:100%;height:100%;display:block}
.wedding-rings .ring{transform-origin:60px 60px}
.wedding-rings .ring-1{animation: ring-rotate 9s linear infinite}
.wedding-rings .ring-2{animation: ring-rotate 6.4s linear reverse infinite}
.wedding-rings .sparkle{opacity:0;transform-origin:center;animation: sparkle 2.8s ease-in-out infinite}

@keyframes sparkle{0%{opacity:0;transform:scale(.6) translateY(2px)}40%{opacity:1;transform:scale(1.08) translateY(-2px)}100%{opacity:0;transform:scale(.8) translateY(0)}}

/* Activate rings when hero is loaded */
.story.hero-loaded .wedding-rings{opacity:1;transform:translateX(-50%) translateY(0) scale(1)}

/* Initial blank entrance: start with white page and hide elements */
.body-init{background:#ffffff !important}
.body-init .reel, .body-init .story{background:#ffffff !important}
.body-init .card,
.body-init .wedding-rings,
.body-init .ring-photo,
.body-init .subtitle,
.body-init .names,
.body-init .countdown,
.body-init .link-rsvp{opacity:0;transform:translateY(12px);transition:opacity .6s ease,transform .6s cubic-bezier(.2,.9,.2,1)}

/* reveal class used by JS to show items in sequence */
.reveal{opacity:1!important;transform:none!important}
.countdown .dd{transition:opacity .5s ease, transform .5s ease}

/* Adjust size on small screens so rings remain visible but unobtrusive */
@media (max-width:520px){
	.wedding-rings{width:110px;height:110px;bottom:14px}
}
@keyframes petal-fall{
	0%{transform:translateY(-10vh) rotate(0deg) translateX(0);opacity:0}
	10%{opacity:1}
	50%{transform:translateY(40vh) rotate(180deg) translateX(6vw)}
	100%{transform:translateY(110vh) rotate(360deg) translateX(-3vw);opacity:0.9}
}

/* Rings animation keyframes and styles */
@keyframes ring-rotate{
	0%{transform:rotate(0) scale(1)}
	50%{transform:rotate(180deg) scale(1.02)}
	100%{transform:rotate(360deg) scale(1)}
}
@keyframes ring-bob{
	0%{transform:translateY(0)}
	50%{transform:translateY(6px)}
	100%{transform:translateY(0)}
}
.ring-svg{width:100%;height:100%;display:block}
.ring{transform-origin:60px 60px;opacity:0.95;animation: ring-rotate 8s linear infinite, ring-bob 3.6s ease-in-out infinite}
.ring.small{animation-duration:5.2s,3.6s;opacity:0.95}

/* Text animation */
@keyframes text-fade-up{0%{opacity:0;transform:translateY(18px) scale(.992)}60%{opacity:0.9;transform:translateY(6px) scale(.998)}100%{opacity:1;transform:none}}
.names.animated{animation:text-fade-up 2.2s cubic-bezier(.2,.9,.2,1) both}

/* Word-level stagger animation (slower for readability) */
.word{display:inline-block;opacity:0;transform:translateY(12px);animation:text-fade-up 2s cubic-bezier(.2,.9,.2,1) both}
.subtitle .word{font-weight:600;color:var(--muted)}
.names .word{font-family:'Great Vibes',cursive;letter-spacing:0.4px;white-space:normal;display:inline-block;margin-right:0.28em;/* keep words separated */font-variant-ligatures:none;}
.names .word:last-child{margin-right:0}
.date .word, #date-text .word{font-size:0.98rem;color:var(--muted)}

/* Subtitle: stronger spacing + distinct pop animation */
.wedding-rings .ring-1{animation: ring-rotate 14s linear infinite}
.wedding-rings .ring-2{animation: ring-rotate 10s linear reverse infinite}
.wedding-rings .sparkle{opacity:0;transform-origin:center;animation: sparkle 4.2s ease-in-out infinite}
@keyframes subtitle-pop{0%{opacity:0;transform:translateY(10px) scale(.98)}60%{opacity:1;transform:translateY(-4px) scale(1.04)}100%{opacity:1;transform:none}}
.subtitle{font-family:Montserrat,system-ui,Segoe UI,Roboto,Arial,sans-serif;font-weight:600;letter-spacing:0.2px}
.subtitle .word{display:inline-block;margin-right:0.32em;white-space:normal;font-variant-ligatures:none;animation-name:subtitle-pop;animation-duration:2s;animation-fill-mode:both}
.subtitle .word:last-child{margin-right:0}

/* Card item staggered animation */
.card .card-item{opacity:0;transform:translateY(12px) scale(.996);display:block}
.card .card-item.animate{animation:card-pop 1.6s cubic-bezier(.2,.9,.2,1) both}
@keyframes card-pop{0%{opacity:0;transform:translateY(14px) scale(.996)}60%{opacity:0.92;transform:translateY(6px) scale(1.006)}100%{opacity:1;transform:none}}

/* fine-grain interactive states for card controls */
.card .actions{transition:transform .22s,opacity .18s}
.card .actions .btn{transition:transform .18s,box-shadow .18s}
.card .link-rsvp{transition:transform .18s,box-shadow .18s,opacity .12s}
.card .link-rsvp:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 18px 38px rgba(34,79,46,0.12)}
.card .link-rsvp:focus{outline:3px solid rgba(46,160,90,0.12);outline-offset:4px}

/* Slight delay for children when reduced motion is requested */
@media (prefers-reduced-motion: reduce){
	.card .card-item{transition:none;animation:none;opacity:1;transform:none}
}

/* Countdown: horizontal green pill blocks (restored visual) */
.countdown{width:100%;max-width:720px;margin:0 auto;display:flex;gap:14px;justify-content:center;align-items:center}
.countdown .dd{background:var(--card-bg);color:var(--muted);padding:.9rem 1.1rem;border-radius:14px;text-align:center;display:flex;flex-direction:column;align-items:center;min-width:110px;box-shadow:0 10px 30px rgba(18,28,20,0.04)}
.countdown .dd strong{display:inline-block;background:var(--accent);color:#fff;padding:.6rem 1.1rem;border-radius:10px;font-size:1.8rem;line-height:1;font-weight:800;box-shadow:0 8px 22px rgba(42,157,91,0.12)}
.countdown .dd span{font-size:.95rem;color:var(--muted);margin-top:8px}

/* Force horizontal layout for the countdown on all viewports (override accidental column rules) */
.countdown{display:flex !important;flex-direction:row !important;flex-wrap:nowrap !important;align-items:center;justify-content:center;gap:14px}
.countdown .dd{flex:0 0 auto}

/* Slightly smaller on narrow screens to avoid overflow */
@media (max-width:420px){
	/* keep pills horizontal but smaller and allow wrapping to multiple rows if needed */
	.countdown{gap:10px;justify-content:center}
	.countdown .dd{width:auto;max-width:140px;min-width:64px;padding:.6rem .8rem}
	.countdown .dd strong{font-size:1.4rem;padding:.45rem .8rem}
}

@media (max-width:360px){
	/* very small phones: reduce pill density and allow wrapping (still row-based) */
	.countdown{gap:8px}
	.countdown .dd{min-width:56px;max-width:110px;padding:.45rem .6rem}
	.countdown .dd strong{font-size:1.1rem;padding:.35rem .6rem}
	.countdown .dd span{font-size:0.85rem}
}

/* hide ring photo on small screens to keep layout clean */
@media (max-width:520px){
	.ring-photo{display:none}
}
/* Gallery */
.gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px}
.gallery-item{position:relative;border-radius:10px;overflow:hidden;background:#fff}
.gallery-item img{width:100%;height:100%;object-fit:cover;display:block}
.caption{position:absolute;left:8px;bottom:8px;background:rgba(0,0,0,0.45);color:#fff;padding:6px 8px;border-radius:8px;font-size:.9rem}
.lightbox{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.7);z-index:9999}
.lightbox[aria-hidden="false"]{display:flex}
.lightbox-img{max-width:92vw;max-height:82vh;border-radius:8px}
.lightbox-close{position:fixed;right:20px;top:18px;background:transparent;border:0;color:#fff;font-size:1.6rem;cursor:pointer}
/* RSVP modal */
.rsvp-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);z-index:10000;padding:1rem}
.rsvp-modal[aria-hidden="false"]{display:flex}
.rsvp-panel{background:#fff;padding:1rem;border-radius:12px;max-width:420px;width:100%}
.rsvp-panel input,.rsvp-panel textarea{width:100%;padding:.5rem;border-radius:8px;border:1px solid #eee;margin-top:6px}
.rsvp-panel label{display:block;margin-top:8px;font-size:.95rem;color:var(--muted)}
.rsvp-close{position:absolute;right:18px;top:12px;background:#fff;border:0;border-radius:6px;padding:.3rem .5rem;cursor:pointer}
/* Responsive tweaks */
@media (max-width:720px){
	.card{padding:1.2rem;border-radius:12px}
	/* decor removed for cleaner mobile view */
	.topbar{display:none}
}

/* Ensure background covers safe areas on modern phones and remains sharp */
@media (max-width:420px){
	.story .bg{background-position:top center;filter:blur(6px) saturate(0.98)}
	.card{padding:1rem;margin:0 0.6rem}
}

/* Mobile title fixes: avoid 'remontada' (overlap) and preserve layout while animating words */
@media (max-width:520px){
	.names{font-size:clamp(28px,8vw,44px);line-height:1.05;margin-top:0.05rem;margin-bottom:0.2rem;word-break:break-word;}
	.names .word{display:inline-block;vertical-align:middle;white-space:normal}
	.card{padding-bottom:2.4rem}
	/* ensure countdown doesn't overlap title */
	.countdown{margin-top:8px}
}

