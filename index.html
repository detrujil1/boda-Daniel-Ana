<!DOCTYPE html>
<html lang="es" class="no-js">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Invitación de Boda — Daniel & Ana</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,600;9..144,700&family=Montserrat:wght@300;500;700&family=Great+Vibes&display=swap" rel="stylesheet">
  <meta name="theme-color" content="#0a0a0a" />
  <style>
    :root{
      --bg:#0a0a0a; --ink:#fff; --muted:#d8d8d8;
      --gold:#E3C468; --gold2:#B08A2B; --rose:#ff6b8a; --wa:#25D366;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:var(--bg);color:var(--ink);font-family:'Montserrat',system-ui}

    /* ===== TikTok style: vertical 9:16, secciones a pantalla completa con scroll-snap ===== */
    .app{height:100dvh;overflow-y:auto;scroll-snap-type:y mandatory;scroll-behavior:smooth}
    section{position:relative;height:100dvh;width:100%;scroll-snap-align:start;display:grid;place-items:center;overflow:hidden}

    /* Safe area para texto centrado */
    .inner{position:relative;z-index:2;max-width:min(92vw,720px);padding:24px;text-align:center}

    /* Fondo video/imagen */
    .bg{position:absolute;inset:0;z-index:0}
    .bg img, .bg video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:contrast(1.05) saturate(1.05)}
    .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.65))}

    /* Tipografía */
    h1.names{font-family:'Great Vibes',cursive;font-size:clamp(54px,12vw,110px);line-height:1;margin:.1em 0 .05em;
      background:linear-gradient(110deg,var(--gold),#fff,var(--gold2));-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 8px 26px rgba(227,196,104,.18)}
    .over{letter-spacing:.3em;text-transform:uppercase;font-size:12px;opacity:.92}
    .date{opacity:.95;font-weight:600}

    /* Botones estilo TikTok */
    .btn{display:inline-flex;align-items:center;justify-content:center;padding:14px 18px;border-radius:999px;border:1px solid rgba(227,196,104,.5);
      background:linear-gradient(180deg,var(--gold),var(--gold2));color:#111;text-decoration:none;font-weight:800;letter-spacing:.02em;margin-top:14px}
    .btn-outline{background:transparent;color:#fff;border-color:#fff}

    /* Corazones flotando */
    .hearts{position:absolute;inset:0;pointer-events:none;z-index:1}
    .heart{position:absolute;width:18px;height:18px;background:radial-gradient(circle at 30% 30%, #ff9fb4 0 45%, #ff5a7a 60%);
      transform:rotate(45deg);border-radius:2px;opacity:.55;filter:blur(.2px)}
    .heart::before,.heart::after{content:"";position:absolute;width:100%;height:100%;background:inherit;border-radius:50%}
    .heart::before{top:-50%}
    .heart::after{left:-50%}
    @keyframes rise{0%{transform:translate3d(var(--x),110%,0) rotate(45deg)}100%{transform:translate3d(calc(var(--x) + 20px),-10%,0) rotate(45deg)}}

    /* Slide 2: tarjeta con glass */
    .card{background:rgba(255,255,255,.08);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.18);border-radius:18px;padding:22px}
    .h{font-family:'Fraunces',serif;font-size:clamp(22px,5vw,28px);margin:.2em 0;color:#fff}
    .lead{color:var(--muted)}

    /* Gallery estilo TikTok (pegajosa en vertical) */
    .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:14px}
    .gallery img{width:100%;height:28vh;object-fit:cover;border-radius:12px}
    @media (max-width:720px){.gallery img{height:22vh}}

    /* Sticky CTA inferior como apps */
    .ctaBar{position:fixed;left:0;right:0;bottom:14px;display:flex;gap:10px;justify-content:center;z-index:99}

    /* Mapa/acciones */
    .actions{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:12px}

    /* Reveal en scroll (con fallback) */
    .reveal{opacity:1;transform:none;transition:opacity .6s ease, transform .6s ease}
    .js .reveal{opacity:0;transform:translateY(16px)}
    .js .reveal.in{opacity:1;transform:translateY(0)}

    /* Prevención de saltos de teclado móvil */
    @supports (height: 100svh){ section{height:100svh} }
  </style>
</head>
<body>
  <div class="app" id="app">

    <!-- SLIDE 1 · HERO FULL -->
    <section id="s1">
      <div class="bg">
        <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=crop&w=1600&q=80" alt="Pareja" />
        <div class="overlay"></div>
      </div>
      <div class="hearts" id="hearts"></div>
      <div class="inner reveal">
        <div class="over">SAVE THE DATE</div>
        <h1 class="names">Daniel & Ana</h1>
        <div class="date">Sábado · 20 de diciembre de 2025 · Bogotá</div>
        <div>
          <a class="btn" href="#s2">Ver detalles</a>
        </div>
      </div>
    </section>

    <!-- SLIDE 2 · DETALLES con glass y galería -->
    <section id="s2">
      <div class="bg">
        <img src="https://images.unsplash.com/photo-1518199266791-5375a83190b7?auto=format&fit=crop&w=1600&q=80" alt="Velas" />
        <div class="overlay"></div>
      </div>
      <div class="inner reveal">
        <div class="card">
          <h2 class="h">La celebración</h2>
          <p class="lead">Ceremonia y fiesta en <strong>Hacienda El Encanto – Bogotá</strong>. Ven con tu mejor sonrisa y ganas de bailar ✨</p>
          <div class="actions">
            <a class="btn" href="https://maps.app.goo.gl/xxxxxxxx" target="_blank" rel="noopener">Ubicación</a>
            <a class="btn btn-outline" id="btnCalendar" href="#">Añadir al calendario</a>
          </div>
          <div class="gallery">
            <img src="https://images.unsplash.com/photo-1514512364185-4c85787172e7?auto=format&fit=crop&w=800&q=80" alt="Ramo" loading="lazy"/>
            <img src="https://images.unsplash.com/photo-1460364157752-926555421a7e?auto=format&fit=crop&w=800&q=80" alt="Torta" loading="lazy"/>
            <img src="https://images.unsplash.com/photo-1484327973588-c31f829103fe?auto=format&fit=crop&w=800&q=80" alt="Luces" loading="lazy"/>
          </div>
        </div>
      </div>
    </section>

    <!-- SLIDE 3 · CONTADOR y CTA -->
    <section id="s3">
      <div class="bg">
        <img src="https://images.unsplash.com/photo-1520975618313-6c55e28708a5?auto=format&fit=crop&w=1600&q=80" alt="Mesa" />
        <div class="overlay"></div>
      </div>
      <div class="inner reveal">
        <h2 class="h">Cuenta regresiva</h2>
        <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:8px">
          <div class="card" style="min-width:88px"><div id="d" style="font-weight:800;font-size:32px">00</div><div class="lead">días</div></div>
          <div class="card" style="min-width:88px"><div id="h" style="font-weight:800;font-size:32px">00</div><div class="lead">horas</div></div>
          <div class="card" style="min-width:88px"><div id="m" style="font-weight:800;font-size:32px">00</div><div class="lead">min</div></div>
          <div class="card" style="min-width:88px"><div id="s" style="font-weight:800;font-size:32px">00</div><div class="lead">seg</div></div>
        </div>
        <p class="lead" style="margin-top:10px">¡No podemos esperar para celebrarlo contigo!</p>
      </div>
    </section>

  </div>

  <!-- CTA FLOTANTE tipo app -->
  <div class="ctaBar">
    <a class="btn" id="btnRSVP" href="https://wa.me/573001112233?text=Confirmo%20mi%20asistencia%20a%20la%20boda%20de%20Daniel%20y%20Ana" target="_blank" rel="noopener">Confirmar por WhatsApp</a>
  </div>

  <script>
    document.documentElement.classList.remove('no-js');
    document.documentElement.classList.add('js');

    // ===== Corazones flotando (estilo TikTok) =====
    const hearts = document.getElementById('hearts');
    for(let i=0;i<30;i++){
      const h=document.createElement('div');
      h.className='heart';
      const delay=(Math.random()*4).toFixed(2)+'s';
      const dur=(10+Math.random()*10).toFixed(2)+'s';
      h.style.left=Math.random()*100+'%';
      h.style.setProperty('--x', Math.random()*100+'%');
      h.style.animation=`rise ${dur} linear ${delay} infinite`;
      h.style.opacity=(0.25+Math.random()*0.45).toFixed(2);
      hearts.appendChild(h);
    }

    // ===== Reveal simple =====
    const io = 'IntersectionObserver' in window ? new IntersectionObserver((es)=>es.forEach(e=>{if(e.isIntersecting){e.target.classList.add('in');io.unobserve(e.target)}}),{threshold:.2}) : null;
    document.querySelectorAll('.reveal').forEach(el=> io?io.observe(el):el.classList.add('in'));

    // ===== Contador =====
    const EVENT_ISO_LOCAL='2025-12-20T15:00';
    function update(){
      const now=new Date(); const event=new Date(EVENT_ISO_LOCAL); let d=Math.max(0,event-now);
      const days=Math.floor(d/86400000); d%=86400000; const hours=Math.floor(d/3600000); d%=3600000; const mins=Math.floor(d/60000); d%=60000; const secs=Math.floor(d/1000);
      (document.getElementById('d')||{}).textContent=String(days).padStart(2,'0');
      (document.getElementById('h')||{}).textContent=String(hours).padStart(2,'0');
      (document.getElementById('m')||{}).textContent=String(mins).padStart(2,'0');
      (document.getElementById('s')||{}).textContent=String(secs).padStart(2,'0');
    } update(); setInterval(update,1000);

    // ===== Calendario (.ics) =====
    function pad(n){return String(n).padStart(2,'0')} function toICS(dt){return dt.getFullYear()+pad(dt.getMonth()+1)+pad(dt.getDate())+'T'+pad(dt.getHours())+pad(dt.getMinutes())+'00'}
    document.getElementById('btnCalendar').addEventListener('click', (e)=>{
      e.preventDefault(); const start=new Date(EVENT_ISO_LOCAL); const end=new Date(start.getTime()+5*3600000);
      const ics=['BEGIN:VCALENDAR','VERSION:2.0','CALSCALE:GREGORIAN','PRODID:-//Invitacion Boda//ES','BEGIN:VEVENT','DTSTAMP:'+toICS(new Date()),'DTSTART:'+toICS(start),'DTEND:'+toICS(end),'SUMMARY:Boda de Daniel & Ana','LOCATION:Hacienda El Encanto – Bogotá','DESCRIPTION:¡Celebremos juntos!','END:VEVENT','END:VCALENDAR'].join('\r\n');
      const url=URL.createObjectURL(new Blob([ics],{type:'text/calendar;charset=utf-8'})); const a=document.createElement('a'); a.href=url; a.download='Boda-Daniel-Ana.ics'; a.click(); setTimeout(()=>URL.revokeObjectURL(url),0);
    });
  </script>
</body>
</html>
