<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Invitación de Boda | {NOMBRES}</title>

  <!-- Open Graph para vista previa en WhatsApp si publicas el link -->
  <meta property="og:title" content="¡Estás invitado! {NOMBRES}" />
  <meta property="og:description" content="Celebremos el {FECHA_LEIBLE} en {LUGAR}. Confirma tu asistencia aquí." />
  <meta property="og:type" content="website" />

  <!-- Tipografías elegantes -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    /* ===== Paleta & reset ===== */
    :root{
      --bg:#0f1220;          /* azul noche */
      --paper:#ffffff;
      --ink:#1f2937;
      --gold:#d4b46a;
      --gold-deep:#b9933e;
      --muted:#94a3b8;
      --soft:#f7f5f2;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--ink);}

    /* ===== Fondo animado con estrellas suaves ===== */
    .space{
      position:fixed;inset:0;overflow:hidden;z-index:-2;
      background:radial-gradient(1200px 800px at 20% -10%, #1a2040 0%, transparent 70%),
                 radial-gradient(1000px 600px at 120% 20%, #2a2f55 0%, transparent 65%),
                 radial-gradient(900px 700px at 50% 120%, #1b1f3b 0%, transparent 70%),
                 #0f1220;
    }
    .star{position:absolute;width:2px;height:2px;background:#fff;border-radius:50%;opacity:.7;animation:twinkle 6s linear infinite}
    .star:nth-child(odd){animation-duration:7.5s}
    @keyframes twinkle{0%,100%{opacity:.1;transform:translateY(0)}50%{opacity:.8;transform:translateY(-6px)}}

    /* ===== Contenedor de tarjeta con borde dorado animado ===== */
    .wrap{min-height:100dvh;display:grid;place-items:center;padding:24px}
    .card{
      position:relative;width:100%;max-width:840px;border-radius:28px;overflow:hidden;
      background:linear-gradient(180deg,#ffffff 0%,#fbfaf7 100%);
      box-shadow:0 20px 60px rgba(0,0,0,.35);
      border:1px solid rgba(212,180,106,.35);
      isolation:isolate;
    }
    .card::before{
      content:"";position:absolute;inset:-2px;border-radius:30px;z-index:-1;
      background:conic-gradient(from 180deg, transparent 0 20%, var(--gold) 20% 30%, transparent 30% 50%, var(--gold) 50% 60%, transparent 60% 80%, var(--gold) 80% 90%, transparent 90% 100%);
      filter:blur(8px);opacity:.65;animation:spin 16s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* ===== Hero ===== */
    .hero{position:relative;padding:56px 28px 28px;text-align:center;background:linear-gradient(180deg, rgba(250,247,239,.9) 0%, rgba(255,255,255,1) 65%)}
    .floral{
      position:absolute;inset:auto 0 0 0;height:160px;background:
        radial-gradient(closest-side at 12% 70%, rgba(212,180,106,.35), transparent 70%),
        radial-gradient(closest-side at 88% 70%, rgba(212,180,106,.35), transparent 70%);
      pointer-events:none;opacity:.45;filter:blur(.2px)
    }
    .monogram{display:inline-grid;place-items:center;width:130px;height:130px;margin:0 auto 16px;border-radius:999px;border:2px solid var(--gold);
      background:linear-gradient(145deg,#fff,#f5efe1)}
    .monogram span{font-family:"Playfair Display",serif;font-weight:700;font-size:46px;letter-spacing:2px;color:var(--gold-deep)}
    h1{font-family:"Playfair Display",serif;font-size:40px;line-height:1.15;margin:0 0 10px;color:#111827}
    .sub{color:#475569;font-size:15px}

    /* ===== Contenido ===== */
    .content{padding:34px;display:grid;gap:22px}
    .lead{font-family:"Playfair Display",serif;text-align:center;font-size:20px;color:#374151;margin:2px 0 10px}

    .grid{display:grid;grid-template-columns:1fr;gap:18px}
    .row{display:flex;gap:14px;align-items:flex-start;padding:16px;border-radius:16px;background:#fbfbfb;border:1px solid #eee;
      transform:translateY(8px);opacity:0;animation:rise .9s ease forwards}
    .row:nth-child(2){animation-delay:.08s}
    .row:nth-child(3){animation-delay:.16s}
    @keyframes rise{to{transform:translateY(0);opacity:1}}

    .row svg{flex:0 0 22px;margin-top:2px}
    .row strong{display:block;font-weight:700;color:#111827}
    .row span{display:block;color:#6b7280;font-size:14px}

    .cta{display:grid;grid-template-columns:1fr;gap:12px}
    .btn{appearance:none;border:0;cursor:pointer;text-decoration:none;display:flex;align-items:center;justify-content:center;gap:10px;
      padding:14px 16px;border-radius:14px;font-weight:700;background:var(--ink);color:white;transition:transform .18s ease, box-shadow .18s ease}
    .btn:hover{transform:translateY(-1px);box-shadow:0 8px 18px rgba(31,41,55,.25)}
    .btn--light{background:#fff;color:var(--ink);border:1px solid #e5e7eb}

    .tiles{display:grid;grid-template-columns:1fr;gap:16px}
    .tile{padding:18px;border-radius:16px;background:#fff;border:1px dashed #e5e7eb}
    .tile h3{margin:0 0 8px;font-size:16px;color:#111827}
    .tile p{margin:0;color:#6b7280;font-size:14px}

    .footer{padding:22px;text-align:center;color:#6b7280;font-size:12px;border-top:1px solid #eee}
    .countdown{font-variant-numeric:tabular-nums;font-weight:700}

    /* ===== Galería/Foto de portada (opcional) ===== */
    .photo{
      position:relative;height:260px;background:url('https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?q=80&w=1200&auto=format&fit=crop') center/cover;display:grid;place-items:center
    }
    .veil{position:absolute;inset:0;background:linear-gradient(180deg,rgba(15,18,32,.05),rgba(255,255,255,.8) 70%)}
    .caption{position:relative;z-index:1;color:#111827;font-weight:600;letter-spacing:.04em;background:rgba(255,255,255,.6);backdrop-filter:blur(4px);padding:8px 14px;border-radius:12px;border:1px solid #eee}

    @media (min-width:760px){
      h1{font-size:48px}
      .content{padding:40px}
      .tiles{grid-template-columns:1fr 1fr}
      .cta{grid-template-columns:repeat(3,1fr)}
    }
  </style>
</head>
<body>
  <div class="space" aria-hidden="true"></div>

  <div class="wrap">
    <article
      class="card"
      data-nombres="Nombre 1 & Nombre 2"
      data-fecha-iso-local="2025-12-20T15:00"
      data-fecha-legible="Sábado, 20 de diciembre de 2025 · 3:00 p.m."
      data-duracion-horas="5"
      data-lugar="Hacienda El Encanto – Bogotá, Colombia"
      data-maps-url="https://maps.app.goo.gl/xxxxxxxx"
      data-dress-code="Formal – tonos claros"
      data-extra="¡Tu presencia es nuestro mejor regalo!"
      data-whatsapp-number="573001112233"
      data-regalos-url=""
    >
      <header class="hero">
        <div class="monogram" aria-hidden="true"><span id="monogram">N&N</span></div>
        <h1 id="title">Nombre 1 & Nombre 2</h1>
        <div class="sub" id="dateHuman">Sábado, 20 de diciembre de 2025 · 3:00 p.m.</div>
        <div class="floral" aria-hidden="true"></div>
      </header>

      <div class="photo">
        <div class="veil"></div>
        <div class="caption">Nuestra historia continúa ✨</div>
      </div>

      <section class="content">
        <p class="lead">Con alegría en el corazón, queremos invitarte a celebrar nuestra boda.</p>

        <div class="grid">
          <div class="row">
            <!-- icon calendario -->
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v2M16 2v2M3 10h18M5 6h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="1.5"/></svg>
            <div><strong>Fecha & hora</strong><span id="when">Sábado, 20 de diciembre de 2025 · 3:00 p.m.</span></div>
          </div>
          <div class="row">
            <!-- icon pin -->
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22s7-5.686 7-11A7 7 0 1 0 5 11c0 5.314 7 11 7 11Z" stroke="currentColor" stroke-width="1.5"/><circle cx="12" cy="11" r="2.5" stroke="currentColor" stroke-width="1.5"/></svg>
            <div><strong>Lugar</strong><span id="place">Hacienda El Encanto – Bogotá, Colombia</span></div>
          </div>
          <div class="row">
            <!-- icon dress -->
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 3 7 7l2 2-2 10h10L15 9l2-2-2-4" stroke="currentColor" stroke-width="1.5"/></svg>
            <div><strong>Código de vestimenta</strong><span id="dress">Formal – tonos claros</span></div>
          </div>
        </div>

        <div class="cta">
          <a class="btn" id="btnMaps" href="#" target="_blank" rel="noopener">
            <!-- icon map -->
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m3 6 6-3 6 3 6-3v15l-6 3-6-3-6 3V6Z" stroke="currentColor" stroke-width="1.5"/><path d="M9 3v15M15 6v15" stroke="currentColor" stroke-width="1.5"/></svg>
            Abrir ubicación
          </a>
          <button class="btn btn--light" id="btnCalendar" type="button">
            <!-- icon calendar add -->
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v2M16 2v2M3 10h18" stroke="currentColor" stroke-width="1.5"/><path d="M12 14v6M9 17h6" stroke="currentColor" stroke-width="1.5"/><rect x="3" y="6" width="18" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="1.5"/></svg>
            Agregar al calendario
          </button>
          <a class="btn" id="btnRSVP" href="#" target="_blank" rel="noopener">
            <!-- icon whatsapp -->
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 12a9 9 0 1 0 16.02 5.01L22 22l-4.99-2.98A9 9 0 0 0 3 12Z" stroke="currentColor" stroke-width="1.5"/><path d="M8.5 9.2c0 4.1 3.3 7.3 7.3 7.3" stroke="currentColor" stroke-width="1.5"/></svg>
            Confirmar por WhatsApp
          </a>
        </div>

        <div class="tiles">
          <div class="tile">
            <h3>Itinerario</h3>
            <p>3:00 p.m. Ceremonia · 4:00 p.m. Recepción · 6:00 p.m. Brindis · 7:00 p.m. Baile</p>
          </div>
          <div class="tile">
            <h3>Faltan</h3>
            <p class="countdown" id="countdown">—</p>
          </div>
          <div class="tile" style="grid-column:1/-1">
            <h3>Nota</h3>
            <p id="extra">¡Tu presencia es nuestro mejor regalo!</p>
          </div>
        </div>
      </section>

      <footer class="footer">Con cariño, {NOMBRES}. Hecho con ♥ para compartir por WhatsApp o como página.</footer>
    </article>
  </div>

  <script>
    // ===== Generador de estrellas suaves =====
    const space = document.querySelector('.space');
    for(let i=0;i<80;i++){
      const s=document.createElement('div');
      s.className='star';
      s.style.left=Math.random()*100+'%';
      s.style.top=Math.random()*100+'%';
      s.style.opacity=Math.random()*0.8+0.1;
      s.style.transform=`scale(${Math.random()*1.2+.4})`;
      s.style.animationDelay=(Math.random()*6).toFixed(2)+'s';
      space.appendChild(s);
    }

    // ===== Datos desde atributos data-* =====
    const $card = document.querySelector('.card');
    const qs = sel => document.querySelector(sel);
    const data = (k, def='') => $card.dataset[k] || def;

    const nombres = data('nombres','Nombre 1 & Nombre 2');
    const fechaISO = data('fechaIsoLocal','2025-12-20T15:00');
    const durHoras = parseInt(data('duracionHoras','5'),10);
    const lugar = data('lugar','Lugar del evento');
    const mapsUrl = data('mapsUrl','#');
    const dress = data('dressCode','Formal');
    const extra = data('extra','');
    const dateHuman = data('fechaLegible','Sábado, 20 de diciembre de 2025 · 3:00 p.m.');
    const phone = data('whatsappNumber','573001112233');
    const gifts = data('regalosUrl','');

    qs('#monogram').textContent = nombres.split('&').map(s=>s.trim()[0]||'').join('&');
    qs('#title').textContent = nombres;
    qs('#dateHuman').textContent = dateHuman;
    qs('#when').textContent = dateHuman;
    qs('#place').textContent = lugar;
    qs('#dress').textContent = dress;
    qs('#extra').textContent = extra;

    // ===== Botones =====
    qs('#btnMaps').href = mapsUrl;

    const mensaje = encodeURIComponent(`Hola, confirmo mi asistencia a la boda de ${nombres} el ${dateHuman}. Soy <tu nombre>.`);
    qs('#btnRSVP').href = `https://wa.me/${phone}?text=${mensaje}`;

    // ===== Countdown =====
    const eventDate = new Date(fechaISO);
    function tick(){
      const now = new Date();
      const ms = eventDate - now;
      if (ms <= 0){ qs('#countdown').textContent = '¡Hoy es el gran día!'; return; }
      const d = Math.floor(ms/86400000);
      const h = Math.floor((ms%86400000)/3600000);
      const m = Math.floor((ms%3600000)/60000);
      qs('#countdown').textContent = `${d} días · ${h} h · ${m} min`;
    }
    tick(); setInterval(tick, 30000);

    // ===== Animación de entrada observando secciones =====
    const rows = document.querySelectorAll('.row');
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting){ e.target.style.animationPlayState='running'; io.unobserve(e.target); } });
    },{threshold:.2});
    rows.forEach(r=>{ r.style.animationPlayState='paused'; io.observe(r); });

    // ===== Archivo .ics para calendarios =====
    function pad(n){return String(n).padStart(2,'0')}
    function toICSDate(dt){
      return (
        dt.getFullYear()+pad(dt.getMonth()+1)+pad(dt.getDate())+'T'+
        pad(dt.getHours())+pad(dt.getMinutes())+'00'
      );
    }
    function downloadICS(){
      const start = new Date(fechaISO);
      const end = new Date(start.getTime() + durHoras*60*60*1000);
      const ics = [
        'BEGIN:VCALENDAR','VERSION:2.0','CALSCALE:GREGORIAN','PRODID:-//Invitacion Boda//ES',
        'BEGIN:VEVENT',
        'DTSTAMP:'+toICSDate(new Date()),
        'DTSTART:'+toICSDate(start),
        'DTEND:'+toICSDate(end),
        'SUMMARY:Boda de '+nombres,
        'LOCATION:'+lugar.replace(/\n/g,' '),
        'DESCRIPTION:'+('Celebremos juntos: '+nombres+' — '+dateHuman+' – '+lugar).replace(/\n/g,' '),
        'END:VEVENT','END:VCALENDAR' 
      ].join('\r\n');

      const blob = new Blob([ics], {type:'text/calendar;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download=`Boda-${nombres.replace(/\s+/g,'_')}.ics`;
      document.body.appendChild(a); a.click(); setTimeout(()=>{URL.revokeObjectURL(url); a.remove();},0);
    }
    document.getElementById('btnCalendar').addEventListener('click', downloadICS);
  </script>
</body>
</html>
