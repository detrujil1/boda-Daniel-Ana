<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Invitación de Boda | {NOMBRES}</title>

  <!-- Open Graph (si compartes como link alojado) -->
  <meta property="og:title" content="¡Te invitamos a nuestra boda! {NOMBRES}" />
  <meta property="og:description" content="Acompáñanos el {FECHA_LEIBLE} en {LUGAR}. Confirma tu asistencia." />
  <meta property="og:type" content="website" />

  <!-- Fuentes elegantes (requiere internet). Puedes quitarlas si prefieres solo fuentes del sistema) -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #f7f5f2;
      --paper: #ffffff;
      --ink: #1f2937;
      --gold: #b88c3a;
      --muted: #6b7280;
      --accent: #e6d8bd;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif}
    .wrap{min-height:100dvh;display:grid;place-items:center;padding:24px}
    .card{
      width:100%;max-width:720px;background:var(--paper);border-radius:28px;overflow:hidden;
      box-shadow:0 10px 30px rgba(0,0,0,.08);border:1px solid #eee
    }
    .hero{
      position:relative;padding:54px 24px 32px;background:
        radial-gradient(120% 140% at 100% 0%, #efe8da 0%, transparent 60%),
        radial-gradient(120% 120% at 0% 0%, #efe8da 0%, transparent 55%),
        linear-gradient(180deg, #fbfaf7 0%, #f4efe6 100%);
      text-align:center
    }
    .monogram{display:inline-grid;place-items:center;width:120px;height:120px;border-radius:999px;border:2px solid var(--gold);
      margin:0 auto 18px auto;background:linear-gradient(145deg,#fff,#f6efe2)}
    .monogram span{font-family:"Playfair Display", serif;font-weight:700;font-size:44px;letter-spacing:2px;color:var(--gold)}
    h1{font-family:"Playfair Display", serif;font-size:34px;line-height:1.15;margin:0 0 8px}
    .sub{color:var(--muted);font-size:15px}

    .content{padding:28px;display:grid;gap:22px}
    .quote{font-family:"Playfair Display", serif;font-size:18px;color:#4b5563;text-align:center}

    .info{display:grid;grid-template-columns:1fr;gap:16px}
    .row{display:flex;gap:14px;align-items:flex-start;padding:14px 16px;border-radius:16px;background:#fbfbfb;border:1px solid #eee}
    .row svg{flex:0 0 22px;margin-top:2px}
    .row strong{display:block;font-weight:600}
    .row span{display:block;color:var(--muted);font-size:14px}

    .buttons{display:grid;gap:12px}
    .btn{appearance:none;border:0;cursor:pointer;text-decoration:none;display:flex;align-items:center;justify-content:center;gap:10px;
      padding:14px 16px;border-radius:14px;font-weight:600;background:var(--ink);color:white}
    .btn--ghost{background:#fff;color:var(--ink);border:1px solid #ddd}
    .btn svg{width:20px;height:20px}

    .two{display:grid;grid-template-columns:1fr;gap:16px}
    .tile{padding:18px;border-radius:16px;background:#fff;border:1px dashed #e5e7eb}
    .tile h3{margin:0 0 8px;font-size:16px}
    .tile p{margin:0;color:var(--muted);font-size:14px}

    .footer{padding:22px;text-align:center;color:var(--muted);font-size:12px;border-top:1px solid #eee}
    .countdown{font-variant-numeric:tabular-nums;font-weight:600}

    @media (min-width:720px){
      .content{padding:34px}
      h1{font-size:40px}
      .two{grid-template-columns:1fr 1fr}
    }
  </style>
</head>
<body>
  <!--
    ⚙️ PERSONALIZA AQUÍ (o usa los data-* más abajo):
    Reemplaza los valores entre llaves o ajusta los atributos data- del .card para
    que los botones y el calendario funcionen.

    {NOMBRES}           → "Nombre 1 & Nombre 2"
    {FECHA_LEIBLE}      → "Sábado, 20 de diciembre de 2025 | 3:00 p.m."
    {FECHA_ISO_LOCAL}   → "2025-12-20T15:00" (hora local Bogotá)
    {DURACION_HORAS}    → 5
    {LUGAR}             → "Hacienda El Encanto – Bogotá, Colombia"
    {MAPS_URL}          → URL de Google Maps
    {DRESS_CODE}        → "Formal – tonos claros"
    {MENSAJE_EXTRA}     → texto breve
    {WHATSAPP_NUMBER}   → "57XXXXXXXXXX" (código país sin +)
    {REGALOS_URL}       → URL a mesa de regalos (opcional)
  -->

  <div class="wrap">
    <article
      class="card"
      data-nombres="Nombre 1 & Nombre 2"
      data-fecha-iso-local="2025-12-20T15:00" 
      data-fecha-legible="Sábado, 20 de diciembre de 2025 · 3:00 p.m."
      data-duracion-horas="5"
      data-lugar="Hacienda El Encanto – Bogotá, Colombia"
      data-maps-url="https://maps.app.goo.gl/xxxxxxxx"
      data-dress-code="Formal – tonos claros"
      data-extra="¡Tu presencia es nuestro mejor regalo!"
      data-whatsapp-number="573001112233"
      data-regalos-url="https://example.com/mesa-de-regalos"
    >
      <header class="hero">
        <div class="monogram" aria-hidden="true"><span id="monogram">N&N</span></div>
        <h1 id="title">Nombre 1 & Nombre 2</h1>
        <div class="sub" id="dateHuman">Sábado, 20 de diciembre de 2025 · 3:00 p.m.</div>
      </header>

      <section class="content">
        <p class="quote">Con alegría en el corazón, queremos invitarte a celebrar nuestra boda.</p>

        <div class="info">
          <div class="row">
            <!-- calendario icon -->
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v2M16 2v2M3 10h18M5 6h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="1.5"/></svg>
            <div>
              <strong>Fecha & hora</strong>
              <span id="when">Sábado, 20 de diciembre de 2025 · 3:00 p.m.</span>
            </div>
          </div>
          <div class="row">
            <!-- pin icon -->
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22s7-5.686 7-11A7 7 0 1 0 5 11c0 5.314 7 11 7 11Z" stroke="currentColor" stroke-width="1.5"/><circle cx="12" cy="11" r="2.5" stroke="currentColor" stroke-width="1.5"/></svg>
            <div>
              <strong>Lugar</strong>
              <span id="place">Hacienda El Encanto – Bogotá, Colombia</span>
            </div>
          </div>
          <div class="row">
            <!-- dress icon -->
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 3 7 7l2 2-2 10h10L15 9l2-2-2-4" stroke="currentColor" stroke-width="1.5"/></svg>
            <div>
              <strong>Código de vestimenta</strong>
              <span id="dress">Formal – tonos claros</span>
            </div>
          </div>
        </div>

        <div class="buttons">
          <a class="btn" id="btnMaps" href="#" target="_blank" rel="noopener">
            <!-- map icon -->
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m3 6 6-3 6 3 6-3v15l-6 3-6-3-6 3V6Z" stroke="currentColor" stroke-width="1.5"/><path d="M9 3v15M15 6v15" stroke="currentColor" stroke-width="1.5"/></svg>
            Abrir ubicación
          </a>
          <button class="btn btn--ghost" id="btnCalendar" type="button">
            <!-- calendar add icon -->
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v2M16 2v2M3 10h18" stroke="currentColor" stroke-width="1.5"/><path d="M12 14v6M9 17h6" stroke="currentColor" stroke-width="1.5"/><rect x="3" y="6" width="18" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="1.5"/></svg>
            Agregar al calendario
          </button>
          <a class="btn" id="btnRSVP" href="#" target="_blank" rel="noopener">
            <!-- whatsapp icon -->
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 12a9 9 0 1 0 16.02 5.01L22 22l-4.99-2.98A9 9 0 0 0 3 12Z" stroke="currentColor" stroke-width="1.5"/><path d="M8.5 9.2c0 4.1 3.3 7.3 7.3 7.3" stroke="currentColor" stroke-width="1.5"/></svg>
            Confirmar por WhatsApp
          </a>
        </div>

        <div class="two">
          <div class="tile">
            <h3>Itinerario</h3>
            <p>3:00 p.m. Ceremonia · 4:00 p.m. Recepción · 6:00 p.m. Brindis · 7:00 p.m. Baile</p>
          </div>
          <div class="tile">
            <h3>Faltan</h3>
            <p class="countdown" id="countdown">—</p>
          </div>
        </div>

        <div class="tile" style="grid-column:1/-1">
          <h3>Nota</h3>
          <p id="extra">¡Tu presencia es nuestro mejor regalo!</p>
        </div>

        <div class="buttons" id="giftsBlock">
          <a class="btn btn--ghost" id="btnGifts" href="#" target="_blank" rel="noopener">
            <!-- gift icon -->
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 9h18v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z" stroke="currentColor" stroke-width="1.5"/><path d="M3 9h18M12 9v13M7 6a2.5 2.5 0 1 1 5 0v3H7V6Zm5 0a2.5 2.5 0 1 1 5 0v3h-5V6Z" stroke="currentColor" stroke-width="1.5"/></svg>
            Ver mesa de regalos
          </a>
        </div>
      </section>

      <footer class="footer">Hecho con ♥ para compartir por WhatsApp o como página.</footer>
    </article>
  </div>

  <script>
    // Utilidades
    const $card = document.querySelector('.card');
    const qs = sel => document.querySelector(sel);
    const data = (k, def='') => $card.dataset[k] || def;

    // Poblar textos
    const nombres = data('nombres','Nombre 1 & Nombre 2');
    const fechaISO = data('fechaIsoLocal','2025-12-20T15:00'); // hora local Bogotá
    const durHoras = parseInt(data('duracionHoras','5'),10);
    const lugar = data('lugar','Lugar del evento');
    const mapsUrl = data('mapsUrl','#');
    const dress = data('dressCode','Formal');
    const extra = data('extra','');
    const dateHuman = data('fechaLegible','Sábado, 20 de diciembre de 2025 · 3:00 p.m.');
    const phone = data('whatsappNumber','573001112233');
    const gifts = data('regalosUrl','');

    qs('#monogram').textContent = nombres.split('&').map(s=>s.trim()[0] || '').join('&');
    qs('#title').textContent = nombres;
    qs('#dateHuman').textContent = dateHuman;
    qs('#when').textContent = dateHuman;
    qs('#place').textContent = lugar;
    qs('#dress').textContent = dress;
    qs('#extra').textContent = extra;

    // Botones
    qs('#btnMaps').href = mapsUrl;

    // WhatsApp RSVP con texto prellenado
    const mensaje = encodeURIComponent(`Hola, confirmo mi asistencia a la boda de ${nombres} el ${dateHuman}. Soy <tu nombre>.`);
    qs('#btnRSVP').href = `https://wa.me/${phone}?text=${mensaje}`;

    // Mesa de regalos (oculta si no hay URL)
    if (!gifts || gifts === '#') {
      qs('#giftsBlock').style.display = 'none';
    } else {
      qs('#btnGifts').href = gifts;
    }

    // Countdown
    const eventDate = new Date(fechaISO);
    function tick(){
      const now = new Date();
      const ms = eventDate - now;
      if (ms <= 0){ qs('#countdown').textContent = '¡Hoy es el gran día!'; return; }
      const d = Math.floor(ms/86400000);
      const h = Math.floor((ms%86400000)/3600000);
      const m = Math.floor((ms%3600000)/60000);
      qs('#countdown').textContent = `${d} días · ${h} h · ${m} min`;
    }
    tick(); setInterval(tick, 30000);

    // Generar archivo .ics para agregar al calendario
    function pad(n){return String(n).padStart(2,'0')}
    function toICSDate(dt){
      // usaremos hora local sin TZID (muchas apps móviles la interpretan en local)
      return (
        dt.getFullYear() + pad(dt.getMonth()+1) + pad(dt.getDate()) + 'T' +
        pad(dt.getHours()) + pad(dt.getMinutes()) + '00'
      );
    }
    function downloadICS(){
      const start = new Date(fechaISO);
      const end = new Date(start.getTime() + durHoras*60*60*1000);
      const ics = [
        'BEGIN:VCALENDAR',
        'VERSION:2.0',
        'CALSCALE:GREGORIAN',
        'PRODID:-//Invitacion Boda//ES',
        'BEGIN:VEVENT',
        'DTSTAMP:' + toICSDate(new Date()),
        'DTSTART:' + toICSDate(start),
        'DTEND:' + toICSDate(end),
        'SUMMARY:Boda de ' + nombres,
        'LOCATION:' + lugar.replace(/\n/g,' '),
        'DESCRIPTION:' + ('Celebremos juntos: ' + nombres + ' — ' + dateHuman + ' – ' + lugar).replace(/\n/g,' '),
        'END:VEVENT',
        'END:VCALENDAR' 
      ].join('\r\n');

      const blob = new Blob([ics], {type:'text/calendar;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `Boda-${nombres.replace(/\s+/g,'_')}.ics`;
      document.body.appendChild(a);
      a.click();
      setTimeout(()=>{URL.revokeObjectURL(url); a.remove();}, 0);
    }
    qs('#btnCalendar').addEventListener('click', downloadICS);
  </script>
</body>
</html>

