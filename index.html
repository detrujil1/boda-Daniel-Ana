<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Boda — Invitación estilo TikTok (claro + música)</title>
  <meta name="description" content="Invitación de boda de Daniel  &  Ana — detalles, galería y confirmación.">
  <link
    href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Fraunces:wght@600;700&family=Montserrat:wght@300;500;700&display=swap"
    rel="stylesheet">
  <meta name="theme-color" content="#fffaf2">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/print.css" media="print">
  <!-- Estilos críticos pequeños para accesibilidad/skip-link -->
  <style>
    .skip-link {
      position: absolute;
      left: -999px;
      top: auto;
      width: 1px;
      height: 1px;
      overflow: hidden
    }

    .skip-link:focus {
      position: static !important;
      left: 0;
      top: 0;
      width: auto;
      height: auto;
      padding: .5rem 1rem;
      background: #fff;
      color: #222;
      border: 1px solid #ddd;
      border-radius: 6px;
      z-index: 9999
    }

    .story {
      outline: none
    }
  </style>
</head>

<body>
  <a class="skip-link" href="#reel">Saltar al contenido</a>
  <noscript>
    <div
      style="background:#fff7;position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:1rem;z-index:9999">
      <div
        style="max-width:520px;background:#fff;border:1px solid #eee;padding:1.2rem;border-radius:10px;text-align:center;font-family:Montserrat,system-ui,Segoe UI,Roboto,Arial,sans-serif">
        <strong>JavaScript está desactivado.</strong>
        <p>Activa JavaScript para poder interactuar con la invitación (reproducir música, ver galería y confirmar
          asistencia).</p>
        <a href="#" onclick="this.parentElement.parentElement.style.display='none';return false"
          style="color:#6a3be6">Cerrar</a>
      </div>
    </div>
  </noscript>
  <main class="reel" id="reel">
    <!-- (Decoración derecha removida para una experiencia más limpia) -->

    <!-- ====== PANTALLA 1 (Hero) ====== -->
    <section class="story s1" role="region" aria-label="Pantalla principal" tabindex="0" data-bg="fondo.jpg">
      <div class="bg" id="bg1"></div>
      <div class="overlay"></div>
      <div class="ring-photo" aria-hidden="true"></div>
      <!-- SVG animated wedding rings -->
      <div class="wedding-rings" aria-hidden="true">
        <svg viewBox="0 0 120 120" class="wedding-rings-svg" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs>
            <linearGradient id="g1" x1="0" x2="1">
              <stop offset="0%" stop-color="#f6d55c" />
              <stop offset="100%" stop-color="#f08a24" />
            </linearGradient>
            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="3" result="blur" />
              <feMerge>
                <feMergeNode in="blur" />
                <feMergeNode in="SourceGraphic" />
              </feMerge>
            </filter>
          </defs>
          <!-- larger gold ring -->
          <g class="ring ring-1" transform="translate(10,8)">
            <circle cx="50" cy="50" r="32" fill="none" stroke="url(#g1)" stroke-width="6" stroke-linecap="round"
              filter="url(#glow)" />
          </g>
          <!-- smaller silver ring, offset -->
          <g class="ring ring-2" transform="translate(28,30)">
            <circle cx="50" cy="50" r="24" fill="none" stroke="#f3efe8" stroke-width="4" stroke-linecap="round"
              opacity="0.98" />
          </g>
          <!-- sparkle accent -->
          <g class="sparkle" transform="translate(86,24)">
            <path d="M0 0 L4 6 L10 8 L4 10 L0 16 L-2 10 L-8 8 L-2 6 Z" fill="#fff9e6" opacity="0.95" />
          </g>
        </svg>
      </div>

      <div class="topbar">
        <span class="badge"><span class="avatar"></span> @Daniel&Ana · Invitación</span>
        <span class="badge">♪ Love Theme · Piano</span>
      </div>

      <div class="disc" id="disc" aria-hidden="true"></div>

      <!-- Hero names in their own card above the details card -->
      <div class="names-card" aria-hidden="false">
        <h1 class="names" id="names">Daniel &amp; Ana Milena</h1>
      </div>

      <div class="card">
        <div class="subtitle">¡Nos casamos!</div>
        <p class="invite-text">y tenemos el honor de invitarte a celebrar nuestro matrimonio</p>
        <div class="decor-line" aria-hidden="true"></div>
        <p class="invite-note">Hay momentos en la vida que son especiales por sí solos, pero al compartirlos se
          convierten en inolvidables.</p> 

      </div>

      <div id="petals"></div>
      <div class="footer">Desliza hacia arriba ↑</div>
    </section>

    <!-- ====== PANTALLA 2 (Detalles - estilo diario) ====== -->
  <section class="story s2" role="region" aria-label="Detalles del día" tabindex="0" data-bg="https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1600&auto=format&fit=crop">
      <div class="bg" id="bg2" style="background-image: url('https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1600&auto=format&fit=crop');"></div>
      <div class="overlay"></div>

      <div class="card" aria-live="polite">
        <h2 class="names" style="font-size:clamp(28px,6vw,54px);margin:.1em 0 .4em;text-align:center">Detalles del día</h2>
        <p class="invite-note" style="text-align:center;max-width:720px;margin:0.2em auto 1em">"El amor es la fuerza mas humilde pero la mas poderosa de que dispone el mundo." Fuiste parte de nuestra historia, y por eso queremos compartir este gran día junto a ustedes.</p>
         <h3 class="names" style="font-size:clamp(28px,6vw,54px);margin:.1em 0 .4em;text-align:center">Faltan</h3>
        <!-- Countdown (se mantiene para la lógica existente) -->
        <div style="text-align:center;margin:8px 0 14px">
          <div class="countdown" id="countdown" aria-hidden="false">
            <div class="dd"><strong id="d">0</strong><span>días</span></div>
            <div class="dd"><strong id="h">0</strong><span>horas</span></div>
            <div class="dd"><strong id="m">0</strong><span>min</span></div>
            <div class="dd"><strong id="s">0</strong><span>seg</span></div>
          </div>
        </div>

        <!-- Grid de detalles similar a index2 -->

      </div>
      <div class="footer">Hecho con ♥ — #BodaDanielAna</div>
    </section>
  

    <!-- ====== PANTALLA 3 (Galería de Recuerdos) ====== -->
    <section class="story s3" role="region" aria-label="Galería de recuerdos" tabindex="0">
      <div class="bg" id="bg-sunflowers"></div>
      <div class="overlay"></div>
      <div class="card" style="background:rgba(255,255,255,0.96);box-shadow:0 8px 32px rgba(167,123,255,0.10);">
        <h2 class="names" style="font-size:clamp(28px,6vw,54px);margin:.1em 0 .4em;color:var(--accent);">Nuestros
          recuerdos</h2>
        <!-- La hoja de estilos para la galería no debe cargarse desde "img/"; si existe crear "css/gallery.css" y enlazarla en <head>. -->
        <!-- Contenedor para la animación de girasoles en la base -->
        <div id="sunflowers-anim" aria-hidden="true"></div>
        <div class="gallery" id="gallery">
          <div class="gallery-item">
            <img src="120880544_1141956966201903_1127993670349141576_n.jpg" alt="Momentos felices 1" loading="lazy"
              srcset="120880544_1141956966201903_1127993670349141576_n.jpg 1x">
            <div class="caption">Un instante inolvidable</div>
          </div>
          <div class="gallery-item">
            <img src="199618397_175408174538428_8647630428475852208_n.jpg" alt="Momentos felices 2" loading="lazy"
              srcset="199618397_175408174538428_8647630428475852208_n.jpg 1x">
            <div class="caption">Nuestra historia juntos</div>
          </div>
          <div class="gallery-item">
            <img src="241392355_328758222338794_2247522739049370118_n.jpg" alt="Momentos felices 3" loading="lazy"
              srcset="241392355_328758222338794_2247522739049370118_n.jpg 1x">
            <div class="caption">Risas y amor</div>
          </div>
          <div class="gallery-item">
            <img src="429807309_1709088092918707_7396777558563963057_n.jpg" alt="Momentos felices 4" loading="lazy"
              srcset="429807309_1709088092918707_7396777558563963057_n.jpg 1x">
            <div class="caption">Juntos por siempre</div>
          </div>
          <div class="gallery-item">
            <img src="64239880_478194192984357_1302299422067402605_n.jpg" alt="Momentos felices 5" loading="lazy"
              srcset="64239880_478194192984357_1302299422067402605_n.jpg 1x">
            <div class="caption">Un nuevo capítulo</div>
          </div>
        </div>
        <!-- input para subir imagen de girasol (persistida en localStorage) -->
        <input id="sunflower-input" type="file" accept="image/*" style="display:none">
        <div style="font-size:1.1em;color:var(--accent);margin-top:10px;font-family:'Fraunces',serif;">Desliza para ver
          más recuerdos ↓</div>
      </div>
      <!-- Lightbox modal para ver imágenes grandes -->
      <div id="lightbox" class="lightbox" aria-hidden="true">
        <button class="lightbox-close" aria-label="Cerrar">✕</button>
        <img class="lightbox-img" alt="">
        <div class="lightbox-caption"></div>
      </div>
      <!-- RSVP modal -->
      <div id="rsvp-modal" class="rsvp-modal" aria-hidden="true">
        <div class="rsvp-panel">
          <button class="rsvp-close" aria-label="Cerrar invitación">✕</button>
          <h3 style="margin-top:0;font-family:'Fraunces',serif">Confirmar asistencia</h3>
          <form id="rsvp-form">
            <label>Nombre completo<br><input name="name" required placeholder="Juan Pérez" /></label>
            <label>Correo (opcional)<br><input name="email" type="email" placeholder="correo@ejemplo.com" /></label>
            <fieldset style="border:none;padding:0;margin:8px 0">
              <legend>¿Asistirás?</legend>
              <label><input type="radio" name="attend" value="yes" checked /> Sí</label>
              <label style="margin-left:12px"><input type="radio" name="attend" value="no" /> No</label>
            </fieldset>
            <label>Adultos<br><input name="adults" type="number" min="0" value="1" /></label>
            <label>Niños<br><input name="kids" type="number" min="0" value="0" /></label>
            <label>Mensaje (opcional)<br><textarea name="note" rows="3"
                placeholder="Algún comentario"></textarea></label>
            <div style="display:flex;gap:8px;justify-content:center;margin-top:12px">
              <button type="submit" class="btn btn--brand">Confirmar</button>
              <button type="button" id="rsvp-export" class="btn btn--ghost">Exportar CSV</button>
            </div>
          </form>
        </div>
      </div>
      <div class="footer">Hecho con ♥ — #BodaDanielAna</div>
    </section>
  </main>

  <!-- Audio controlado por los botones -->

  <!-- Audio controlado por los botones -->
  <audio id="bg-music" preload="auto" loop>
    <source src="il divo hasta mi final VIDEO OFICIAL HD - Machisga.mp3" type="audio/mpeg">
  </audio>

  <!-- Pantalla de bienvenida para reproducir la música -->
  <div id="welcome-overlay"
    style="position:fixed;z-index:9999;inset:0;background:rgba(255,255,255,0.98);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;">
    <h2 style="font-family:'Great Vibes',cursive;font-size:2.5em;color:var(--accent);margin-bottom:0.5em;">¡Bienvenido!
    </h2>
    <p style="font-size:1.2em;color:var(--muted);margin-bottom:1.5em;max-width:400px;">Para vivir la experiencia
      completa, por favor reproduce la canción antes de ver la invitación.</p>
    <button id="start-music-btn" class="btn-play"
      style="background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#fff;font-size:1.1em;padding:0.8em 1.05em;border:none;border-radius:999px;cursor:pointer;font-family:Montserrat,sans-serif;font-weight:700;box-shadow:0 4px 16px rgba(42,157,91,0.08);margin-bottom:1.2em;"
      aria-label="Reproducir canción y ver invitación" title="Reproducir canción y ver invitación">
      <svg class="play-icon" width="26" height="26" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
        <path d="M5 3v18l15-9L5 3z" fill="currentColor" />
      </svg>
      <span class="visually-hidden">Reproducir canción y ver invitación</span>
    </button>
    <div style="font-size:0.95em;color:var(--muted);">Canción: Hasta mi final — Il Divo</div>
  </div>

  <!-- Cargamos la lógica separada para mantener index.html limpio -->
  <!-- Optional backgrounds config (pattern taken from index2) -->
  <script>
    // Si quieres personalizar los fondos por pantalla (prioridad móvil), edita estas URLs.
    // Puedes usar imágenes locales como "assets/hero.jpg" o URLs remotas (Unsplash optimizadas para móvil).
    window.INVITE = window.INVITE || {};
    window.INVITE.backgrounds = window.INVITE.backgrounds || [
      'https://source.unsplash.com/900x1600/?wedding,flowers',
      'https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1600&auto=format&fit=crop',
      'https://source.unsplash.com/900x1600/?wedding,beach',
      'https://source.unsplash.com/900x1600/?wedding,vintage',
      'https://source.unsplash.com/900x1600/?wedding,sunset',
      'https://source.unsplash.com/900x1600/?wedding,floral'
    ];
  </script>
  <script src="js/app.js" defer></script>
</body>

</html>