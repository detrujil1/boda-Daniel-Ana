<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>InvitaciÃ³n de Boda â€” Estilo TikTok claro</title>
  <meta name="theme-color" content="#faf7ff">
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Fraunces:wght@600;700&family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#faf7ff;
      --ink:#2a2440;
      --muted:#6d6587;
      --brand:#a77bff;
      --brand2:#ffb3c1;
      --panel:rgba(255,255,255,.65);
      --card:rgba(255,255,255,.85);
      --line:rgba(165,150,220,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:var(--bg)}

    /* Reel tipo TikTok */
    .reel{height:100dvh;overflow-y:auto;scroll-snap-type:y mandatory;-webkit-overflow-scrolling:touch}
    section.story{position:relative;height:100dvh;width:100%;scroll-snap-align:start;display:grid;place-items:center;padding:18px;isolation:isolate}

    /* Fondo claro con imÃ¡genes suaves */
    .bg{position:absolute;inset:0;background-position:center;background-size:cover;z-index:-2;filter:saturate(1.02) contrast(1.02)}
    .overlay{position:absolute;inset:0;z-index:-1;background:
      linear-gradient(180deg, rgba(255,255,255,.65) 0%, rgba(255,255,255,.75) 45%, rgba(255,255,255,.9) 100%),
      radial-gradient(60% 60% at 50% 20%, rgba(167,123,255,.18), transparent 60%)}

    /* Tarjeta translÃºcida clara */
    .card{width:min(820px,92vw);border-radius:24px;padding:clamp(16px,3vw,28px);background:var(--card);border:1px solid var(--line);backdrop-filter:blur(8px);box-shadow:0 16px 44px rgba(40,20,70,.12);text-align:center;animation:pop .5s ease both}
    @keyframes pop{from{transform:translateY(10px);opacity:.0}to{transform:none;opacity:1}}

    .subtitle{letter-spacing:.35em;text-transform:uppercase;color:var(--muted);font-weight:700;font-size:.8rem}
    .names{font-family:"Great Vibes",cursive;font-size:clamp(42px,8.5vw,92px);line-height:1;margin:.2em 0 .1em}
    .amp{font-family:"Fraunces",serif;color:var(--brand)}
    .date{font-family:"Fraunces",serif;font-weight:700;font-size:clamp(16px,2.6vw,22px);color:#3b2d61}

    /* Countdown */
    .countdown{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap;justify-content:center}
    .dd{min-width:78px;padding:10px 12px;border-radius:14px;background:#fff;border:1px solid var(--line)}
    .dd strong{display:block;font-size:clamp(18px,3vw,24px);font-weight:800;font-family:"Fraunces",serif}
    .dd span{font-size:12px;color:var(--muted)}

    /* Botones */
    .actions{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin-top:16px}
    .btn{appearance:none;border:none;cursor:pointer;padding:12px 16px;border-radius:999px;font-weight:700;font-size:14px;text-decoration:none;display:inline-flex;align-items:center;gap:8px}
    .btn--brand{background-image:linear-gradient(135deg,var(--brand),var(--brand2));color:#2b2342}
    .btn--ghost{background:#fff;color:#3b2d61;border:1px solid var(--line)}

    /* Barra lateral (incluye solo 1 botÃ³n de confirmaciÃ³n) */
    .sidebar{position:absolute;right:10px;bottom:90px;display:flex;flex-direction:column;gap:14px;z-index:3}
    .fab{width:56px;height:56px;border-radius:50%;display:grid;place-items:center;background:#fff;border:1px solid var(--line);cursor:pointer;user-select:none;backdrop-filter:blur(6px);transition:transform .15s ease;box-shadow:0 8px 20px rgba(40,20,70,.12)}
    .fab:active{transform:scale(.97)}
    .fab svg{width:26px;height:26px;fill:#5a4f82}

    /* Top bar */
    .topbar{position:absolute;left:14px;top:14px;right:14px;display:flex;justify-content:space-between;align-items:center;gap:10px;color:#4c426c;font-size:12px}
    .badge{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:var(--panel);border:1px solid var(--line);backdrop-filter:blur(6px)}
    .avatar{width:24px;height:24px;border-radius:50%;background:linear-gradient(135deg,var(--brand),var(--brand2));display:inline-block}

    /* SecciÃ³n 2 */
    .grid{display:grid;gap:16px;grid-template-columns:1fr}
    @media(min-width:760px){.grid{grid-template-columns:repeat(3,1fr)}}
    .tile{background:#fff;border:1px solid var(--line);border-radius:18px;padding:16px;text-align:left}
    .tile h3{margin:0 0 6px;font-size:16px;color:#3b2d61}
    .tile p{margin:0;color:#5d5678;font-size:14px}

    .footer{position:absolute;bottom:10px;left:0;right:0;text-align:center;font-size:12px;color:#6c628b}

    /* PÃ©talos sutiles */
    .petal{position:absolute;top:-10vh;width:14px;height:14px;opacity:.6;filter:blur(.2px);background:radial-gradient(circle at 30% 30%, #fff 0 40%, #ffd6e2 41% 100%);transform:rotate(45deg);border-radius:4px 16px 16px 16px;animation:fall linear infinite;z-index:0}
    @keyframes fall{to{transform:translateY(120vh) rotate(405deg)}}
  </style>
</head>
<body>
  <main class="reel" id="reel">
    <!-- ====== PANTALLA 1 ====== -->
    <section class="story s1">
      <div class="bg" id="bg1"></div>
      <div class="overlay"></div>

      <div class="topbar">
        <span class="badge"><span class="avatar"></span> @Daniel&Ana Â· InvitaciÃ³n</span>
        <span class="badge">â™ª Love Theme Â· Piano</span>
      </div>

      <!-- Barra lateral: botÃ³n de mÃºsica + ÃšNICO botÃ³n RSVP + compartir -->
      <aside class="sidebar">
        <button class="fab" id="fab-music" title="MÃºsica" aria-label="MÃºsica">
          <svg viewBox="0 0 24 24"><path d="M12 3v10.55A4 4 0 1 1 10 9h2V3h8v2h-6z"/></svg>
        </button>
        <a class="fab" id="fab-rsvp" href="#" target="_blank" rel="noopener" title="Confirmar asistencia" aria-label="Confirmar asistencia">
          <svg viewBox="0 0 24 24"><path d="M9 12l2 2 4-4 1.5 1.5-5.5 5.5L7.5 13.5z"/></svg>
        </a>
        <button class="fab" id="fab-share" title="Compartir" aria-label="Compartir">
          <svg viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7a3.27 3.27 0 000-1.39l7.05-4.11A2.99 2.99 0 0018 7.91c1.66 0 3-1.35 3-3.01A3 3 0 0018 2a3 3 0 00-3 2.9L7.95 9.02a3 3 0 100 5.96l7.05 4.11A3 3 0 0018 22a3 3 0 000-5.92z"/></svg>
        </button>
      </aside>

      <div class="card">
        <div class="subtitle">Â¡Nos casamos!</div>
        <h1 class="names" id="names">Daniel <span class="amp">&</span> Ana</h1>
        <div class="date" id="date-text">SÃ¡bado, 20 de diciembre de 2025 Â· 4:00 p.m.</div>
        <div class="countdown" aria-live="polite" id="countdown">
          <div class="dd"><strong id="d">0</strong><span>dÃ­as</span></div>
          <div class="dd"><strong id="h">0</strong><span>horas</span></div>
          <div class="dd"><strong id="m">0</strong><span>min</span></div>
          <div class="dd"><strong id="s">0</strong><span>seg</span></div>
        </div>
        <div class="actions" style="margin-top:14px">
          <a id="btn-maps" class="btn btn--ghost" target="_blank" rel="noopener" href="#">Ver ubicaciÃ³n</a>
        </div>
      </div>

      <div id="petals"></div>
      <div class="footer">Desliza hacia arriba â†‘</div>
    </section>

    <!-- ====== PANTALLA 2 ====== -->
    <section class="story s2">
      <div class="bg" id="bg2"></div>
      <div class="overlay"></div>

      <div class="card">
        <h2 class="names" style="font-size:clamp(28px,6vw,54px);margin:.1em 0 .4em">Detalles del dÃ­a</h2>
        <div class="grid">
          <div class="tile"><h3>Ceremonia</h3><p id="ceremony">Parroquia Nuestra SeÃ±ora del Amor Â· 4:00 p.m.</p></div>
          <div class="tile"><h3>RecepciÃ³n</h3><p id="reception">Hacienda Los Jazmines Â· 6:00 p.m. Â· <strong>CÃ³digo: Formal</strong></p></div>
          <div class="tile"><h3>Regalos</h3><p>Tu presencia es nuestro mejor regalo. Si deseas, puedes aportar a nuestra <em>lluvia de sobres</em> ðŸ’Œ</p></div>
        </div>
        <div class="actions" style="margin-top:18px">
          <button id="btn-ics" class="btn btn--ghost" type="button">Agregar al calendario</button>
        </div>
      </div>
      <div class="footer">Hecho con â™¥ â€” #BodaDanielAna</div>
    </section>
  </main>

  <!-- Audio oculto controlado por el botÃ³n musical -->
  <audio id="bg-music" preload="auto" loop>
    <source src="music.mp3" type="audio/mpeg">
  </audio>

<script>
  /* ===== CONFIG ===== */
  const INVITE = {
    couple: { him: "Daniel", her: "Ana" },
    weddingISO: "2025-12-20T16:00:00-05:00",
    place: { label: "Parroquia Nuestra SeÃ±ora del Amor", maps: "https://maps.app.goo.gl/XXXXXXXX" },
    reception: { label: "Hacienda Los Jazmines", hour: "6:00 p.m.", dress: "Formal" },
    whatsapp: { phone: "573001234567", text: "Hola, confirmo mi asistencia a la boda de Daniel & Ana. Somos ___ adultos y ___ niÃ±os." },
    backgrounds: [
      "https://images.unsplash.com/photo-1511285560929-80b456fea0bc?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1600&auto=format&fit=crop"
    ],
    hashtag: "#BodaDanielAna"
  };

  /* ===== Util ===== */
  const $ = s => document.querySelector(s);
  const cap = s => s.charAt(0).toUpperCase()+s.slice(1);
  const wa = (p,t)=>`https://wa.me/${encodeURIComponent(p)}?text=${encodeURIComponent(t)}`;

  /* ===== Fondos ===== */
  $('#bg1').style.backgroundImage = `url('${INVITE.backgrounds[0]}')`;
  $('#bg2').style.backgroundImage = `url('${INVITE.backgrounds[1]}')`;

  /* ===== Textos ===== */
  const date = new Date(INVITE.weddingISO);
  const dText = date.toLocaleDateString('es-CO',{weekday:'long',year:'numeric',month:'long',day:'numeric'});
  const tText = date.toLocaleTimeString('es-CO',{hour:'numeric',minute:'2-digit'});
  $('#date-text').textContent = cap(dText)+" Â· "+tText;
  $('#ceremony').textContent = `${INVITE.place.label} Â· ${tText}`;
  $('#reception').innerHTML = `${INVITE.reception.label} Â· ${INVITE.reception.hour} Â· <strong>CÃ³digo: ${INVITE.reception.dress}</strong>`;

  /* ===== Enlaces (UN SOLO BOTÃ“N DE CONFIRMACIÃ“N) ===== */
  const rsvp = wa(INVITE.whatsapp.phone, INVITE.whatsapp.text);
  $('#fab-rsvp').href = rsvp;           // Ãºnico botÃ³n de confirmaciÃ³n
  $('#btn-maps').href = INVITE.place.maps;

  /* ===== Countdown ===== */
  const refs = {d:$('#d'),h:$('#h'),m:$('#m'),s:$('#s')};
  function tick(){
    const now=new Date();
    const diff=Math.max(0,date-now);
    const sec=Math.floor(diff/1000);
    const d=Math.floor(sec/86400);
    const h=Math.floor((sec%86400)/3600);
    const m=Math.floor((sec%3600)/60);
    const s=Math.floor(sec%60);
    refs.d.textContent=d; refs.h.textContent=h.toString().padStart(2,'0');
    refs.m.textContent=m.toString().padStart(2,'0'); refs.s.textContent=s.toString().padStart(2,'0');
  }
  tick(); setInterval(tick,1000);

  /* ===== Compartir ===== */
  function doShare(){
    if(navigator.share){ navigator.share({title:document.title,text:`Te invitamos a nuestra boda ${INVITE.hashtag}`}); }
    else{ alert('Comparte este archivo por WhatsApp como Documento para conservar animaciones.'); }
  }
  $('#fab-share').addEventListener('click', doShare);

  /* ===== ICS ===== */
  $('#btn-ics').addEventListener('click',()=>{
    const start=new Date(INVITE.weddingISO);
    const end=new Date(start.getTime()+4*60*60*1000);
    const pad=n=>n.toString().padStart(2,'0');
    const toICS=d=>`${d.getUTCFullYear()}${pad(d.getUTCMonth()+1)}${pad(d.getUTCDate())}T${pad(d.getUTCHours())}${pad(d.getUTCMinutes())}${pad(d.getUTCSeconds())}Z`;
    const ICS=['BEGIN:VCALENDAR','VERSION:2.0','PRODID:-//Invitacion Boda//ES','CALSCALE:GREGORIAN','METHOD:PUBLISH','BEGIN:VEVENT',`DTSTART:${toICS(start)}`,`DTEND:${toICS(end)}`,`SUMMARY:Boda de ${INVITE.couple.him} & ${INVITE.couple.her}}`,`LOCATION:${INVITE.place.label}`,`DESCRIPTION:${INVITE.hashtag} â€” ${INVITE.place.label}`,'END:VEVENT','END:VCALENDAR'].join('
');
    const blob=new Blob([ICS],{type:'text/calendar'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='boda.ics';a.click();URL.revokeObjectURL(url);
  });

  /* ===== MÃºsica (controlada por botÃ³n) ===== */
  const audio=$('#bg-music');
  const fabMusic=$('#fab-music');
  let playing=false;
  function setIcon(){
    fabMusic.innerHTML = playing
      ? '<svg viewBox="0 0 24 24"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg>'
      : '<svg viewBox="0 0 24 24"><path d="M12 3v10.55A4 4 0 1 1 10 9h2V3h8v2h-6z"/></svg>';
  }
  setIcon();
  fabMusic.addEventListener('click', async ()=>{
    try{
      if(!playing){ await audio.play(); playing=true; } else { audio.pause(); playing=false; }
      setIcon();
    }catch(e){ alert('Toca de nuevo para activar el audio.'); }
  });

  /* ===== PÃ©talos ===== */
  const petals=document.getElementById('petals');
  for(let i=0;i<16;i++){
    const p=document.createElement('span');
    p.className='petal'; p.style.left=Math.random()*100+'vw'; p.style.animationDuration=(12+Math.random()*10)+'s'; p.style.animationDelay=(Math.random()*-10)+'s'; p.style.width=p.style.height=(10+Math.random()*16)+'px';
    petals.appendChild(p);
  }
</script>
</body>
</html>
